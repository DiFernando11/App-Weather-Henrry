{"ast":null,"code":"import _toConsumableArray from\"C:/Users/diego/AppPrograming/Henrry/Deploy/FT-29C-HOMEWORKH-HENRRY-main/09-React-Routing/homework/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/diego/AppPrograming/Henrry/Deploy/FT-29C-HOMEWORKH-HENRRY-main/09-React-Routing/homework/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Route}from\"react-router-dom\";import\"./App.css\";import{About}from\"./components/About\";import Cards from\"./components/Cards.jsx\";import City from\"./components/City\";import Footer from\"./components/Footer.jsx\";import Nav from\"./components/Nav\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cities=_useState2[0],setCities=_useState2[1];var apiKey=\"4ae2636d8dfbdc3044bede63951a019b\";function onSearch(city){fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\"&appid=\").concat(apiKey,\"&units=metric\")).then(function(response){return response.json();}).then(function(json){if(json.main!==undefined){var _city={min:Math.round(json.main.temp_min),max:Math.round(json.main.temp_max),img:json.weather[0].icon,id:json.id,wind:json.wind.speed,temp:json.main.temp,name:json.name,weather:json.weather[0].icon,clouds:json.clouds.all,latitud:json.coord.lat,longitud:json.coord.lon};var deleteDuplicatedCities=cities.filter(function(element){return element.name!==_city.name;});setCities([].concat(_toConsumableArray(deleteDuplicatedCities),[_city]));console.log(cities);}else{alert(\"Ciudad no encontrada\");}}).catch(function(e){return console.log(e);});//Acá habría que hacer el llamado a la API para obtener los datos de la ciudad\n//pero de momento agregaremos una ciudad por default para ver que funcione\n}function onFilterCityInformation(cityId){var city=cities.filter(function(c){return c.id===parseInt(cityId);});if(city.length>0){return city[0];}else{return null;}}function onClose(id){setCities(function(oldCities){return oldCities.filter(function(c){return c.id!==id;});});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Route,{path:\"/\",render:function render(){return/*#__PURE__*/_jsx(Nav,{onSearch:onSearch});}}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/_jsx(Cards,{cities:cities,onClose:onClose});}}),/*#__PURE__*/_jsx(Route,{path:\"/about\",render:function render(){return/*#__PURE__*/_jsx(About,{});}}),/*#__PURE__*/_jsx(Route,{path:\"/:city/:id\",render:function render(_ref){var match=_ref.match;return/*#__PURE__*/_jsx(City,{city:onFilterCityInformation(match.params.id)});}}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Route,{path:\"/\",render:function render(){return/*#__PURE__*/_jsx(Footer,{});}})]});}export default App;","map":{"version":3,"names":["React","useState","Route","About","Cards","City","Footer","Nav","App","cities","setCities","apiKey","onSearch","city","fetch","then","response","json","main","undefined","min","Math","round","temp_min","max","temp_max","img","weather","icon","id","wind","speed","temp","name","clouds","all","latitud","coord","lat","longitud","lon","deleteDuplicatedCities","filter","element","console","log","alert","catch","e","onFilterCityInformation","cityId","c","parseInt","length","onClose","oldCities","match","params"],"sources":["C:/Users/diego/AppPrograming/Henrry/Deploy/FT-29C-HOMEWORKH-HENRRY-main/09-React-Routing/homework/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport { About } from \"./components/About\";\nimport Cards from \"./components/Cards.jsx\";\nimport City from \"./components/City\";\nimport Footer from \"./components/Footer.jsx\";\nimport Nav from \"./components/Nav\";\n\nfunction App() {\n  const [cities, setCities] = useState([]);\n  const apiKey = \"4ae2636d8dfbdc3044bede63951a019b\";\n  function onSearch(city) {\n    fetch(\n      `http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`\n    )\n      .then((response) => response.json())\n      .then((json) => {\n        if (json.main !== undefined) {\n          const city = {\n            min: Math.round(json.main.temp_min),\n            max: Math.round(json.main.temp_max),\n            img: json.weather[0].icon,\n            id: json.id,\n            wind: json.wind.speed,\n            temp: json.main.temp,\n            name: json.name,\n            weather: json.weather[0].icon,\n            clouds: json.clouds.all,\n            latitud: json.coord.lat,\n            longitud: json.coord.lon,\n          };\n          const deleteDuplicatedCities = cities.filter(\n            (element) => element.name !== city.name\n          );\n          setCities([...deleteDuplicatedCities, city]);\n          console.log(cities);\n        } else {\n          alert(\"Ciudad no encontrada\");\n        }\n      })\n      .catch((e) => console.log(e));\n    //Acá habría que hacer el llamado a la API para obtener los datos de la ciudad\n    //pero de momento agregaremos una ciudad por default para ver que funcione\n  }\n  function onFilterCityInformation(cityId) {\n    let city = cities.filter((c) => c.id === parseInt(cityId));\n    if (city.length > 0) {\n      return city[0];\n    } else {\n      return null;\n    }\n  }\n\n  function onClose(id) {\n    setCities((oldCities) => oldCities.filter((c) => c.id !== id));\n  }\n  return (\n    <div className=\"App\">\n      <Route path=\"/\" render={() => <Nav onSearch={onSearch} />} />\n      <hr />\n      <Route\n        exact\n        path={\"/\"}\n        render={() => <Cards cities={cities} onClose={onClose} />}\n      />\n      <Route path=\"/about\" render={() => <About />} />\n      <Route\n        path={\"/:city/:id\"}\n        render={({ match }) => (\n          <City city={onFilterCityInformation(match.params.id)} />\n        )}\n      />\n      <hr />\n      <Route path=\"/\" render={() => <Footer />} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}